{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "ActionJSONConfig": {
            "properties": {
                "kind": {
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "AuthorOptions": {
            "properties": {
                "exclude": {
                    "items": {
                        "$ref": "#/definitions/IAuthor"
                    },
                    "type": "array"
                },
                "include": {
                    "items": {
                        "$ref": "#/definitions/IAuthor"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "CheckJSONConfig": {
            "properties": {
                "actions": {
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/ActionJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/FlairActionJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/CommentActionJSONConfig"
                            }
                        ]
                    },
                    "type": "array"
                },
                "description": {
                    "type": "string"
                },
                "kind": {
                    "enum": [
                        "comment",
                        "submission"
                    ],
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "ruleJoin": {
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "type": "string"
                },
                "rules": {
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/RecentActivityRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RepeatSubmissionJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RuleSetJSONConfig"
                            }
                        ]
                    },
                    "type": "array"
                }
            },
            "required": [
                "actions",
                "kind",
                "name",
                "rules"
            ],
            "type": "object"
        },
        "CommentActionJSONConfig": {
            "properties": {
                "content": {
                    "type": "string"
                },
                "distinguish": {
                    "type": "boolean"
                },
                "kind": {
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "lock": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "sticky": {
                    "type": "boolean"
                }
            },
            "required": [
                "content",
                "kind"
            ],
            "type": "object"
        },
        "FlairActionJSONConfig": {
            "properties": {
                "css": {
                    "type": "string"
                },
                "kind": {
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "IAuthor": {
            "properties": {
                "flairCssClass": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "flairText": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "isMod": {
                    "type": "boolean"
                },
                "name": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "RecentActivityRuleJSONConfig": {
            "properties": {
                "authors": {
                    "$ref": "#/definitions/AuthorOptions"
                },
                "kind": {
                    "enum": [
                        "recentActivity",
                        "repeatSubmission"
                    ],
                    "type": "string"
                },
                "lookAt": {
                    "enum": [
                        "comments",
                        "submissions"
                    ],
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "thresholds": {
                    "items": {
                        "$ref": "#/definitions/SubThreshold"
                    },
                    "type": "array"
                },
                "usePostAsReference": {
                    "type": "boolean"
                },
                "window": {
                    "type": [
                        "string",
                        "number"
                    ]
                }
            },
            "required": [
                "kind",
                "thresholds"
            ],
            "type": "object"
        },
        "RepeatSubmissionJSONConfig": {
            "properties": {
                "authors": {
                    "$ref": "#/definitions/AuthorOptions"
                },
                "exclude": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "gapAllowance": {
                    "type": "number"
                },
                "include": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "kind": {
                    "enum": [
                        "recentActivity",
                        "repeatSubmission"
                    ],
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "threshold": {
                    "type": "number"
                },
                "usePostAsReference": {
                    "type": "boolean"
                },
                "window": {
                    "type": [
                        "string",
                        "number"
                    ]
                }
            },
            "required": [
                "kind",
                "threshold"
            ],
            "type": "object"
        },
        "RuleSetJSONConfig": {
            "properties": {
                "condition": {
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "type": "string"
                },
                "rules": {
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/RecentActivityRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RepeatSubmissionJSONConfig"
                            }
                        ]
                    },
                    "type": "array"
                }
            },
            "required": [
                "condition",
                "rules"
            ],
            "type": "object"
        },
        "SubThreshold": {
            "properties": {
                "count": {
                    "type": "number"
                },
                "subreddits": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                }
            },
            "required": [
                "subreddits"
            ],
            "type": "object"
        }
    },
    "properties": {
        "checks": {
            "items": {
                "$ref": "#/definitions/CheckJSONConfig"
            },
            "type": "array"
        }
    },
    "required": [
        "checks"
    ],
    "type": "object"
}

