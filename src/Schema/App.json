{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "ActivityWindowCriteria": {
            "additionalProperties": false,
            "description": "If both properties are defined then the first criteria met will be used IE if # of activities = count before duration is reached then count will be used, or vice versa",
            "minProperties": 1,
            "properties": {
                "count": {
                    "description": "The number of activities (submission/comments) to consider",
                    "examples": [
                        15
                    ],
                    "type": "number"
                },
                "duration": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/DurationObject"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "An ISO 8601 duration or Day.js duration object.\n\nThe duration will be subtracted from the time when the rule is run to create a time range like this:\n\nendTime = NOW  <----> startTime = (NOW - duration)\n\nEX endTime = 3:00PM <----> startTime = (NOW - 15 minutes) = 2:45PM -- so look for activities between 2:45PM and 3:00PM",
                    "examples": [
                        "PT1M",
                        {
                            "minutes": 15
                        }
                    ]
                }
            },
            "type": "object"
        },
        "AttributionCriteria": {
            "properties": {
                "minActivityCount": {
                    "default": 5,
                    "description": "The minimum number of activities that must exist for this criteria to run",
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "threshold": {
                    "default": "10%",
                    "description": "The number or percentage to trigger this rule at\n\n* If `threshold` is a `number` then it is the absolute number of attribution instances to trigger at\n* If `threshold` is a `string` with percentage (EX `40%`) then it is the percentage of the total (see `lookAt`) this attribution must reach to trigger",
                    "type": [
                        "string",
                        "number"
                    ]
                },
                "thresholdOn": {
                    "default": "all",
                    "description": "What activities to use for total count when determining what percentage an attribution comprises\n\nEX:\n\nAuthor has 100 activities, 40 are submissions and 60 are comments\n\n* If `submission` then if 10 submission are for Youtube Channel A then percentage => 10/40 = 25%\n* If `all` then if 10 submission are for Youtube Channel A then percentage => 10/100 = 10%",
                    "enum": [
                        "all",
                        "submissions"
                    ],
                    "type": "string"
                },
                "window": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/DurationObject"
                        },
                        {
                            "$ref": "#/definitions/ActivityWindowCriteria"
                        },
                        {
                            "type": [
                                "string",
                                "number"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "threshold",
                "window"
            ],
            "type": "object"
        },
        "AttributionJSONConfig": {
            "description": "Aggregates all of the domain/media accounts attributed to an author's Submission history. If any domain is over the threshold the rule is triggered\n\nAvailable data for [Action templating](https://github.com/FoxxMD/reddit-context-bot#action-templating):\n\n```\ncount      => Total number of repeat Submissions\nthreshold  => The threshold you configured for this Rule to trigger\nurl        => Url of the submission that triggered the rule\n```",
            "properties": {
                "aggregateMediaDomains": {
                    "default": false,
                    "description": "Should the rule aggregate recognized media domains into the parent domain?\n\nSubmissions to major media domains (youtube, vimeo) can be identified by individual Channel/Author...\n\n* If `false` then aggregate will occur at the channel level IE Youtube Channel A (2 counts), Youtube Channel B  (3 counts)\n* If `true` then then aggregation will occur at the domain level IE youtube.com (5 counts)",
                    "type": "boolean"
                },
                "authors": {
                    "additionalProperties": false,
                    "description": "If present then these Author criteria are checked before running the rule. If criteria fails then the rule is skipped.",
                    "minProperties": 1,
                    "type": "object"
                },
                "criteria": {
                    "description": "A list threshold-window values to test attribution against\n\nIf none is provided the default set used is:\n\n```\nthreshold: 10%\nwindow: 100\n```",
                    "items": {
                        "$ref": "#/definitions/AttributionCriteria"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "criteriaJoin": {
                    "description": "* If `OR` then any set of AttributionCriteria that produce an Attribution over the threshold will trigger the rule.\n* If `AND` then all AttributionCriteria sets must product an Attribution over the threshold to trigger the rule.",
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "type": "string"
                },
                "exclude": {
                    "description": "Do not include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "include": {
                    "description": "Only include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "includeSelf": {
                    "default": false,
                    "description": "Include reddit `self.*` domains in aggregation?\n\nSelf-posts are aggregated under the domain `self.[subreddit]`. If you wish to include these domains in aggregation set this to `true`",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The kind of rule to run",
                    "enum": [
                        "attribution"
                    ],
                    "type": "string"
                },
                "lookAt": {
                    "default": "all",
                    "description": "Determines which type of attribution to look at\n\n* If `media` then only the author's submission history which reddit recognizes as media (youtube, vimeo, etc.) will be considered\n* If `all` then all domains (EX youtube.com, twitter.com) from the author's submission history will be considered",
                    "enum": [
                        "all",
                        "media"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this rule. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes\n\nname is used to reference Rule result data during Action content templating. See CommentAction or ReportAction for more details.",
                    "examples": [
                        "myNewRule"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "useSubmissionAsReference": {
                    "default": true,
                    "description": "If activity is a Submission and is a link (not self-post) then only look at Submissions that contain this link, otherwise consider all activities.",
                    "type": "boolean"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "AuthorCriteria": {
            "additionalProperties": false,
            "description": "Criteria with which to test against the author of an Activity. The outcome of the test is based on:\n\n1. All present properties passing and\n2. If a property is a list then any value from the list matching",
            "minProperties": 1,
            "properties": {
                "flairCssClass": {
                    "description": "A list of (user) flair css class values from the subreddit to match against",
                    "examples": [
                        "red"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "flairText": {
                    "description": "A list of (user) flair text values from the subreddit to match against",
                    "examples": [
                        "Approved"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "isMod": {
                    "description": "Is the author a moderator?",
                    "type": "boolean"
                },
                "name": {
                    "description": "A list of reddit usernames (case-insensitive) to match against. Do not include the \"u/\" prefix\n\n EX to match against /u/FoxxMD and /u/AnotherUser use [\"FoxxMD\",\"AnotherUser\"]",
                    "examples": [
                        "FoxxMD",
                        "AnotherUser"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "AuthorRuleJSONConfig": {
            "properties": {
                "authors": {
                    "additionalProperties": false,
                    "description": "If present then these Author criteria are checked before running the rule. If criteria fails then the rule is skipped.",
                    "minProperties": 1,
                    "type": "object"
                },
                "exclude": {
                    "description": "Only runs if include is not present. Will \"pass\" if any of set of the AuthorCriteria does not pass",
                    "items": {
                        "$ref": "#/definitions/AuthorCriteria"
                    },
                    "type": "array"
                },
                "include": {
                    "description": "Will \"pass\" if any set of AuthorCriteria passes",
                    "items": {
                        "$ref": "#/definitions/AuthorCriteria"
                    },
                    "type": "array"
                },
                "kind": {
                    "description": "The kind of rule to run",
                    "enum": [
                        "author"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this rule. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes\n\nname is used to reference Rule result data during Action content templating. See CommentAction or ReportAction for more details.",
                    "examples": [
                        "myNewRule"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                }
            },
            "required": [
                "exclude",
                "include",
                "kind"
            ],
            "type": "object"
        },
        "CheckJson": {
            "properties": {
                "actions": {
                    "description": "The `Actions` to run after the check is successfully triggered. ALL `Actions` will run in the order they are listed\n\n Can be `Action` or the `name` of any **named** `Action` in your subreddit's configuration",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/FlairActionJson"
                            },
                            {
                                "$ref": "#/definitions/CommentActionJson"
                            },
                            {
                                "$ref": "#/definitions/ReportActionJson"
                            },
                            {
                                "$ref": "#/definitions/LockActionJson"
                            },
                            {
                                "$ref": "#/definitions/RemoveActionJson"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "condition": {
                    "default": "AND",
                    "description": "Under what condition should a set of run `Rule` objects be considered \"successful\"?\n\nIf `OR` then **any** triggered `Rule` object results in success.\n\nIf `AND` then **all** `Rule` objects must be triggered to result in success.",
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "examples": [
                        "AND"
                    ],
                    "type": "string"
                },
                "description": {
                    "examples": [
                        "A short description of what this check looks for and actions it performs"
                    ],
                    "type": "string"
                },
                "dryRun": {
                    "description": "Use this option to override the `dryRun` setting for all of its `Actions`",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of event (new submission or new comment) this check should be run against",
                    "enum": [
                        "comment",
                        "submission"
                    ],
                    "examples": [
                        "submission",
                        "comment"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "Friendly name for this Check EX \"crosspostSpamCheck\"\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "examples": [
                        "myNewCheck"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "rules": {
                    "description": "A list of Rules to run. If `Rule` objects are triggered based on `condition` then `Actions` will be performed.\n\nCan be `Rule`, `RuleSet`, or the `name` of any **named** `Rule` in your subreddit's configuration",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/RecentActivityRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RepeatActivityJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/AuthorRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/AttributionJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/HistoryJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RuleSetJson"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "minItems": 1,
                    "type": "array"
                }
            },
            "required": [
                "actions",
                "kind",
                "name",
                "rules"
            ],
            "type": "object"
        },
        "CommentActionJson": {
            "description": "Reply to the Activity. For a submission the reply will be a top-level comment.",
            "properties": {
                "content": {
                    "description": "The Content to submit for this Action. Content is interpreted as reddit-flavored Markdown.\n\nIf value starts with 'wiki:' then the proceeding value will be used to get a wiki page\n\nEX \"wiki:botconfig/mybot\" tries to get https://reddit.com/mySubredditExample/wiki/botconfig/mybot\n\nEX \"this is plain text\"\n\nEX \"this is **bold** markdown text\"",
                    "examples": [
                        "This is the content of a comment/report",
                        "this is **bold** markdown text",
                        "wiki:botconfig/acomment"
                    ],
                    "type": "string"
                },
                "distinguish": {
                    "description": "Distinguish the comment after creation?",
                    "type": "boolean"
                },
                "dryRun": {
                    "default": false,
                    "description": "If `true` the Action will not make the API request to Reddit to perform its action.",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of action that will be performed",
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "lock": {
                    "description": "Lock the comment after creation?",
                    "type": "boolean"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this Action. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "sticky": {
                    "description": "Stick the comment after creation?",
                    "type": "boolean"
                }
            },
            "required": [
                "content",
                "kind"
            ],
            "type": "object"
        },
        "CommentThresholdCriteria": {
            "properties": {
                "asOp": {
                    "description": "If `true` then when threshold...\n\n* is `number` it will be number of comments where author is OP\n* is `percent` it will be **percent of total comments where author is OP**",
                    "type": "boolean"
                },
                "condition": {
                    "enum": [
                        "<",
                        "<=",
                        ">",
                        ">="
                    ],
                    "examples": [
                        ">",
                        ">=",
                        "<",
                        "<="
                    ],
                    "type": "string"
                },
                "threshold": {
                    "default": "10%",
                    "description": "The number or percentage to trigger this criteria at\n\n* If `threshold` is a `number` then it is the absolute number of items to trigger at\n* If `threshold` is a `string` with percentage (EX `40%`) then it is the percentage of the total this item must reach to trigger",
                    "examples": [
                        "10%",
                        15
                    ],
                    "type": [
                        "string",
                        "number"
                    ]
                }
            },
            "required": [
                "condition",
                "threshold"
            ],
            "type": "object"
        },
        "DurationObject": {
            "additionalProperties": false,
            "description": "A Day.js duration object\n\nhttps://day.js.org/docs/en/durations/creating",
            "minProperties": 1,
            "properties": {
                "days": {
                    "examples": [
                        7
                    ],
                    "type": "number"
                },
                "hours": {
                    "examples": [
                        4
                    ],
                    "type": "number"
                },
                "minutes": {
                    "examples": [
                        50
                    ],
                    "type": "number"
                },
                "months": {
                    "examples": [
                        3
                    ],
                    "type": "number"
                },
                "seconds": {
                    "examples": [
                        15
                    ],
                    "type": "number"
                },
                "weeks": {
                    "examples": [
                        2
                    ],
                    "type": "number"
                },
                "years": {
                    "examples": [
                        0
                    ],
                    "type": "number"
                }
            },
            "type": "object"
        },
        "FlairActionJson": {
            "description": "Flair the Submission",
            "properties": {
                "css": {
                    "description": "The text of the css class of the flair to apply",
                    "type": "string"
                },
                "dryRun": {
                    "default": false,
                    "description": "If `true` the Action will not make the API request to Reddit to perform its action.",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of action that will be performed",
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this Action. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "text": {
                    "description": "The text of the flair to apply",
                    "type": "string"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "HistoryCriteria": {
            "description": "If both `submission` and `comment` are defined then criteria will only trigger if BOTH thresholds are met",
            "properties": {
                "comment": {
                    "$ref": "#/definitions/CommentThresholdCriteria"
                },
                "minActivityCount": {
                    "default": 5,
                    "description": "The minimum number of activities that must exist from the `window` results for this criteria to run",
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "submission": {
                    "$ref": "#/definitions/ThresholdCriteria"
                },
                "window": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/DurationObject"
                        },
                        {
                            "$ref": "#/definitions/ActivityWindowCriteria"
                        },
                        {
                            "type": [
                                "string",
                                "number"
                            ]
                        }
                    ],
                    "description": "Window defining Activities to consider (both Comment/Submission)"
                }
            },
            "required": [
                "window"
            ],
            "type": "object"
        },
        "HistoryJSONConfig": {
            "description": "Aggregates an Author's submission and comment history. Rule can be triggered on count/percent of total (for either or both comment/sub totals) as well as comment OP total.\n\nAvailable data for [Action templating](https://github.com/FoxxMD/reddit-context-bot#action-templating):\n\n```\nactivityTotal    => Total number of activities\nsubmissionTotal  => Total number of submissions\ncommentTotal     => Total number of comments\nopTotal          => Total number of comments as OP\nthresholdSummary => A text summary of the first Criteria triggered with totals/percentages\ncriteria         => The ThresholdCriteria object\nwindow           => A text summary of the range of Activities considered (# of Items if number, time range if Duration)\n```",
            "properties": {
                "authors": {
                    "additionalProperties": false,
                    "description": "If present then these Author criteria are checked before running the rule. If criteria fails then the rule is skipped.",
                    "minProperties": 1,
                    "type": "object"
                },
                "criteria": {
                    "description": "A list threshold-window values to test activities against.",
                    "items": {
                        "$ref": "#/definitions/HistoryCriteria"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "criteriaJoin": {
                    "description": "* If `OR` then any set of Criteria that pass will trigger the Rule\n* If `AND` then all Criteria sets must pass to trigger the Rule",
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "type": "string"
                },
                "exclude": {
                    "description": "Do not include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "include": {
                    "description": "Only include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "kind": {
                    "description": "The kind of rule to run",
                    "enum": [
                        "history"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this rule. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes\n\nname is used to reference Rule result data during Action content templating. See CommentAction or ReportAction for more details.",
                    "examples": [
                        "myNewRule"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                }
            },
            "required": [
                "criteria",
                "kind"
            ],
            "type": "object"
        },
        "LockActionJson": {
            "description": "Lock the Activity",
            "properties": {
                "dryRun": {
                    "default": false,
                    "description": "If `true` the Action will not make the API request to Reddit to perform its action.",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of action that will be performed",
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this Action. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "PollingOptions": {
            "description": "You may specify polling options independently for submissions/comments",
            "properties": {
                "comments": {
                    "description": "Polling options for comment events",
                    "properties": {
                        "interval": {
                            "default": 10000,
                            "description": "Amount of time, in milliseconds, to wait between requests for new comments",
                            "examples": [
                                10000
                            ],
                            "type": "number"
                        },
                        "limit": {
                            "default": 10,
                            "description": "The number of new comments to pull on every request",
                            "examples": [
                                10
                            ],
                            "type": "number"
                        }
                    },
                    "type": "object"
                },
                "submissions": {
                    "description": "Polling options for submission events",
                    "properties": {
                        "interval": {
                            "default": 10000,
                            "description": "Amount of time, in milliseconds, to wait between requests to /r/subreddit/new",
                            "examples": [
                                10000
                            ],
                            "type": "number"
                        },
                        "limit": {
                            "default": 10,
                            "description": "The number of submissions to pull from /r/subreddit/new on every request",
                            "examples": [
                                10
                            ],
                            "type": "number"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "RecentActivityRuleJSONConfig": {
            "description": "Checks a user's history for any Activity (Submission/Comment) in the subreddits specified in thresholds\n\nAvailable data for [Action templating](https://github.com/FoxxMD/reddit-context-bot#action-templating):\n\n```\nsummary    => comma-deliminated list of subreddits that hit the threshold and their count EX subredditA(1), subredditB(4),...\nsubCount   => Total number of subreddits that hit the threshold\ntotalCount => Total number of all activity occurrences in subreddits\n```",
            "properties": {
                "authors": {
                    "additionalProperties": false,
                    "description": "If present then these Author criteria are checked before running the rule. If criteria fails then the rule is skipped.",
                    "minProperties": 1,
                    "type": "object"
                },
                "kind": {
                    "description": "The kind of rule to run",
                    "enum": [
                        "recentActivity"
                    ],
                    "examples": [
                        "recentActivity"
                    ],
                    "type": "string"
                },
                "lookAt": {
                    "description": "If present restricts the activities that are considered for count from SubThreshold",
                    "enum": [
                        "comments",
                        "submissions"
                    ],
                    "examples": [
                        "submissions",
                        "comments"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this rule. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes\n\nname is used to reference Rule result data during Action content templating. See CommentAction or ReportAction for more details.",
                    "examples": [
                        "myNewRule"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "thresholds": {
                    "description": "A list of subreddits/count criteria that may trigger this rule. ANY SubThreshold will trigger this rule.",
                    "items": {
                        "$ref": "#/definitions/SubThreshold"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "useSubmissionAsReference": {
                    "default": true,
                    "description": "If activity is a Submission and is a link (not self-post) then only look at Submissions that contain this link, otherwise consider all activities.",
                    "type": "boolean"
                },
                "window": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/ActivityWindowCriteria"
                        },
                        {
                            "$ref": "#/definitions/DurationObject"
                        },
                        {
                            "type": [
                                "string",
                                "number"
                            ]
                        }
                    ],
                    "default": 15,
                    "description": "Criteria for defining what set of activities should be considered.\n\nThe value of this property may be either count OR duration -- to use both write it as an ActivityWindowCriteria\n\nSee ActivityWindowCriteria for descriptions of what count/duration do",
                    "examples": [
                        15,
                        "PT1M",
                        {
                            "count": 10
                        },
                        {
                            "duration": {
                                "hours": 5
                            }
                        },
                        {
                            "count": 5,
                            "duration": {
                                "minutes": 15
                            }
                        }
                    ]
                }
            },
            "required": [
                "kind",
                "thresholds"
            ],
            "type": "object"
        },
        "RemoveActionJson": {
            "description": "Remove the Activity",
            "properties": {
                "dryRun": {
                    "default": false,
                    "description": "If `true` the Action will not make the API request to Reddit to perform its action.",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of action that will be performed",
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this Action. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "RepeatActivityJSONConfig": {
            "description": "Checks a user's history for Submissions with identical content\n\nAvailable data for [Action templating](https://github.com/FoxxMD/reddit-context-bot#action-templating):\n\n```\ncount      => Total number of repeat Submissions\nthreshold  => The threshold you configured for this Rule to trigger\nurl        => Url of the submission that triggered the rule\n```",
            "properties": {
                "authors": {
                    "additionalProperties": false,
                    "description": "If present then these Author criteria are checked before running the rule. If criteria fails then the rule is skipped.",
                    "minProperties": 1,
                    "type": "object"
                },
                "exclude": {
                    "description": "Do not include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "gapAllowance": {
                    "description": "The number of allowed non-identical Submissions between identical Submissions that can be ignored when checking against the threshold value",
                    "type": "number"
                },
                "include": {
                    "description": "Only include Submissions from this list of Subreddits.\n\nA list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        "mealtimevideos",
                        "askscience"
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "kind": {
                    "description": "The kind of rule to run",
                    "enum": [
                        "repeatActivity"
                    ],
                    "type": "string"
                },
                "lookAt": {
                    "default": "all",
                    "description": "If present determines which activities to consider for gapAllowance.\n\n* If `submissions` then only the author's submission history is considered IE gapAllowance = 2  ===> can have gap of two submissions between repeats\n* If `all` then the author's entire history (submissions/comments) is considered IE gapAllowance = 2  ===> can only have gap of two activities (submissions or comments) between repeats",
                    "enum": [
                        "all",
                        "submissions"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this rule. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes\n\nname is used to reference Rule result data during Action content templating. See CommentAction or ReportAction for more details.",
                    "examples": [
                        "myNewRule"
                    ],
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                },
                "threshold": {
                    "default": 5,
                    "description": "The number of repeat submissions that will trigger the rule",
                    "type": "number"
                },
                "useSubmissionAsReference": {
                    "default": true,
                    "description": "If activity is a Submission and is a link (not self-post) then only look at Submissions that contain this link, otherwise consider all activities.",
                    "type": "boolean"
                },
                "window": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/DurationObject"
                        },
                        {
                            "$ref": "#/definitions/ActivityWindowCriteria"
                        },
                        {
                            "type": [
                                "string",
                                "number"
                            ]
                        }
                    ],
                    "default": 15,
                    "description": "Criteria for defining what set of activities should be considered.\n\nThe value of this property may be either count OR duration -- to use both write it as an ActivityWindowCriteria\n\nSee ActivityWindowCriteria for descriptions of what count/duration do",
                    "examples": [
                        15,
                        "PT1M",
                        {
                            "count": 10
                        },
                        {
                            "duration": {
                                "hours": 5
                            }
                        },
                        {
                            "count": 5,
                            "duration": {
                                "minutes": 15
                            }
                        }
                    ]
                }
            },
            "required": [
                "kind"
            ],
            "type": "object"
        },
        "ReportActionJson": {
            "description": "Report the Activity",
            "properties": {
                "content": {
                    "description": "The text of the report. If longer than 100 characters will be truncated to \"[content]...\"",
                    "type": "string"
                },
                "dryRun": {
                    "default": false,
                    "description": "If `true` the Action will not make the API request to Reddit to perform its action.",
                    "type": "boolean"
                },
                "kind": {
                    "description": "The type of action that will be performed",
                    "enum": [
                        "comment",
                        "flair",
                        "lock",
                        "remove",
                        "report"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "An optional, but highly recommended, friendly name for this Action. If not present will default to `kind`.\n\nCan only contain letters, numbers, underscore, spaces, and dashes",
                    "pattern": "^[a-zA-Z]([\\w -]*[\\w])?$",
                    "type": "string"
                }
            },
            "required": [
                "content",
                "kind"
            ],
            "type": "object"
        },
        "RuleSetJson": {
            "description": "A RuleSet is a \"nested\" set of `Rule` objects that can be used to create more complex AND/OR behavior. Think of the outcome of a `RuleSet` as the result of all of its run `Rule` objects (based on `condition`)",
            "properties": {
                "condition": {
                    "default": "AND",
                    "description": "Under what condition should a set of run `Rule` objects be considered \"successful\"?\n\nIf `OR` then **any** triggered `Rule` object results in success.\n\nIf `AND` then **all** `Rule` objects must be triggered to result in success.",
                    "enum": [
                        "AND",
                        "OR"
                    ],
                    "examples": [
                        "AND"
                    ],
                    "type": "string"
                },
                "rules": {
                    "description": "Can be `Rule` or the `name` of any **named** `Rule` in your subreddit's configuration",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/RecentActivityRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/RepeatActivityJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/AuthorRuleJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/AttributionJSONConfig"
                            },
                            {
                                "$ref": "#/definitions/HistoryJSONConfig"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "minItems": 1,
                    "type": "array"
                }
            },
            "required": [
                "rules"
            ],
            "type": "object"
        },
        "SubThreshold": {
            "additionalProperties": false,
            "description": "At least one count property must be present. If both are present then either can trigger the rule",
            "minProperties": 1,
            "properties": {
                "count": {
                    "description": "The number of activities in each subreddit from the list that will trigger this rule",
                    "examples": [
                        1
                    ],
                    "minimum": 1,
                    "type": "number"
                },
                "subreddits": {
                    "description": "A list of subreddits (case-insensitive) to look for. Do not include \"r/\" prefix.\n\nEX to match against /r/mealtimevideos and /r/askscience use [\"mealtimevideos\",\"askscience\"]",
                    "examples": [
                        [
                            "mealtimevideos",
                            "askscience"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "minItems": 2,
                    "type": "array"
                },
                "totalCount": {
                    "description": "The total number of activities across all listed subreddits that will trigger this rule",
                    "examples": [
                        1
                    ],
                    "minimum": 1,
                    "type": "number"
                }
            },
            "required": [
                "subreddits"
            ],
            "type": "object"
        },
        "SubredditCacheConfig": {
            "properties": {
                "authorTTL": {
                    "description": "Amount of time, in milliseconds, author activities (Comments/Submission) should be cached",
                    "examples": [
                        10000
                    ],
                    "type": "number"
                },
                "wikiTTL": {
                    "description": "Amount of time, in milliseconds, wiki content pages should be cached",
                    "examples": [
                        100000
                    ],
                    "type": "number"
                }
            },
            "type": "object"
        },
        "ThresholdCriteria": {
            "properties": {
                "condition": {
                    "enum": [
                        "<",
                        "<=",
                        ">",
                        ">="
                    ],
                    "examples": [
                        ">",
                        ">=",
                        "<",
                        "<="
                    ],
                    "type": "string"
                },
                "threshold": {
                    "default": "10%",
                    "description": "The number or percentage to trigger this criteria at\n\n* If `threshold` is a `number` then it is the absolute number of items to trigger at\n* If `threshold` is a `string` with percentage (EX `40%`) then it is the percentage of the total this item must reach to trigger",
                    "examples": [
                        "10%",
                        15
                    ],
                    "type": [
                        "string",
                        "number"
                    ]
                }
            },
            "required": [
                "condition",
                "threshold"
            ],
            "type": "object"
        }
    },
    "properties": {
        "caching": {
            "anyOf": [
                {
                    "$ref": "#/definitions/SubredditCacheConfig"
                },
                {
                    "enum": [
                        false
                    ],
                    "type": "boolean"
                }
            ],
            "description": "Per-subreddit config for caching TTL values. If set to `false` caching is disabled."
        },
        "checks": {
            "description": "A list of all the checks that should be run for a subreddit.\n\nChecks are split into two lists -- submission or comment -- based on kind and run independently.\n\nChecks in each list are run in the order found in the configuration.\n\nWhen a check \"passes\", and actions are performed, then all subsequent checks are skipped.",
            "items": {
                "$ref": "#/definitions/CheckJson"
            },
            "minItems": 1,
            "type": "array"
        },
        "dryRun": {
            "default": "undefined",
            "description": "Use this option to override the `dryRun` setting for all `Checks`",
            "type": "boolean"
        },
        "polling": {
            "$ref": "#/definitions/PollingOptions",
            "description": "You may specify polling options independently for submissions/comments"
        }
    },
    "required": [
        "checks"
    ],
    "type": "object"
}

